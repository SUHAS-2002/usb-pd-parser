{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "USB PD TOC Entry Schema",
  "description": "Schema for each Table of Contents (TOC) entry extracted from the USB Power Delivery specification PDF.",
  "type": "object",
  "properties": {
    "doc_title": {
      "type": "string",
      "description": "Document title"
    },
    "section_id": {
      "type": "string",
      "pattern": "^\\d+(\\.\\d+)*$",
      "description": "Section identifier (e.g., '1.2.3')"
    },
    "title": {
      "type": "string",
      "description": "Section title"
    },
    "page": {
      "type": "integer",
      "minimum": 1,
      "description": "Page number where section starts"
    },
    "level": {
      "type": "integer",
      "minimum": 1,
      "description": "Hierarchical level (1 = top level)"
    },
    "parent_id": {
      "type": ["string", "null"],
      "pattern": "^\\d+(\\.\\d+)*$",
      "description": "Parent section ID (null for top-level sections)"
    },
    "full_path": {
      "type": "string",
      "description": "Full section path (section_id + title)"
    },
    "tags": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Additional tags or metadata"
    }
  },
  "required": [
    "doc_title",
    "section_id",
    "title",
    "page",
    "level",
    "parent_id",
    "full_path",
    "tags"
  ],
  "additionalProperties": false
}
