{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "USB PD Content Section Schema",
  "description": "Schema for content sections derived from TOC boundaries and inline headings in the USB PD specification.",
  "type": "object",
  "properties": {
    "doc_title": {
      "type": "string",
      "description": "Document title"
    },
    "section_id": {
      "type": ["string", "null"],
      "pattern": "^\\d+(\\.\\d+)*$",
      "description": "Section identifier (e.g., '1.2.3'), null for unmapped pages"
    },
    "title": {
      "type": ["string", "null"],
      "description": "Section title, null for unmapped pages"
    },
    "full_path": {
      "type": ["string", "null"],
      "description": "Full section path (section_id + title), null for unmapped pages"
    },
    "page": {
      "type": "integer",
      "minimum": 1,
      "description": "Page number where section starts"
    },
    "level": {
      "type": "integer",
      "minimum": 0,
      "description": "Hierarchical level (1 = top level, 0 = unmapped page)"
    },
    "parent_id": {
      "type": ["string", "null"],
      "pattern": "^\\d+(\\.\\d+)*$",
      "description": "Parent section ID (null for top-level sections or unmapped pages)"
    },
    "tags": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Additional tags or metadata"
    },
    "content": {
      "type": "string",
      "description": "Extracted text content for the section"
    }
  },
  "required": [
    "doc_title",
    "section_id",
    "title",
    "full_path",
    "page",
    "level",
    "parent_id",
    "tags",
    "content"
  ],
  "additionalProperties": false
}
