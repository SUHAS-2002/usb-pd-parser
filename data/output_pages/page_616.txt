Page 616
Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10
Table 8.84, "Steps for VCONN Source Swap with Wait" below provides a detailed explanation of what happens at each 
labeled step in Figure 8.57, "VCONN Source Swap with Wait" above.
Table 8.84  Steps for VCONN Source Swap with Wait
Step
Initially VCONN off
Initially VCONN Source
1
The Source starts with VCONN off. The Policy Engine 
directs the Protocol Layer to send a VCONN_Swap 
Message.
The Sink starts as the VCONN Source.
2
Protocol Layer creates the VCONN_Swap Message and 
passes to PHY Layer.
3
PHY Layer appends CRC and sends the VCONN_Swap 
Message. Starts CRCReceiveTimer.
PHY Layer receives the VCONN_Swap Message and 
checks the CRC to verify the Message.
4
PHY Layer removes the CRC and forwards the 
VCONN_Swap Message to the Protocol Layer.
5
Protocol Layer checks the MessageID in the incoming 
Message is different from the previously stored value 
and then stores a copy of the new value.
The Protocol Layer forwards the received VCONN_Swap 
Message information to the Policy Engine that 
consumes it.
6
Protocol Layer generates a GoodCRC Message and 
passes it PHY Layer.
7
PHY Layer receives the GoodCRC Message and checks 
the CRC to verify the Message.
PHY Layer appends CRC and sends the GoodCRC 
Message.
8
PHY Layer removes the CRC and forwards the GoodCRC 
Message to the Protocol Layer. 
9
Protocol Layer verifies and increments the 
MessageIDCounter and stops CRCReceiveTimer. 
Protocol Layer informs the Policy Engine that the 
VCONN_Swap Message was successfully sent.
Policy Engine starts SenderResponseTimer.
10
Policy Engine evaluates the VCONN_Swap Message sent 
by the Source and decides that it is able and willing to do 
the VCONN Swap but not at this time. It tells the Protocol 
Layer to form a Wait Message.
11
Protocol Layer creates the Message and passes to PHY 
Layer.
12
PHY Layer receives the Wait Message and compares the 
CRC it calculated with the one sent to verify the Message.
PHY Layer appends a CRC and sends the Wait Message. 
Starts CRCReceiveTimer.
13
Protocol Layer checks the MessageID in the incoming 
Message is different from the previously stored value 
and then stores a copy of the new value.
The Protocol Layer forwards the received Wait Message 
information to the Policy Engine that consumes it.
14
The Policy Engine stops the SenderResponseTimer. 
The Policy Engine tells the DPM to turn on VCONN.
15
Protocol Layer generates a GoodCRC Message and 
passes it PHY Layer.
16
PHY Layer appends a CRC and sends the GoodCRC 
Message.
PHY Layer receives GoodCRC Message and compares 
the CRC it calculated with the one sent to verify the 
Message.
