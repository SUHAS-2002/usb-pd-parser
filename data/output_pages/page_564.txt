Page 564
Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10
8.3.2.9
  Data Role Swap
8.3.2.9.1
  Data Role Swap, Initiated by UFP Operating as Sink
8.3.2.9.1.1
  Data Role Swap, Initiated by UFP Operating as Sink (Accept)
Figure 8.40, "Data Role Swap, UFP operating as Sink initiates" shows an example sequence between a Port, which is 
initially a UFP (Device) and a Sink (Rd asserted), and a Port which is initially a DFP (Host) and a Source (Rp asserted). 
A Data Role Swap is initiated by the UFP. During the process the Port Partners maintain their operation as either a 
Source or a Sink (power and Rp/Rd remain constant) but exchange Data Roles between DFP (Host) and UFP (Device).
Figure 8.40 Data Role Swap, UFP operating as Sink initiates
: Protocol
1: Send Dr_Swap
: PHY
: PHY
: Protocol
2:Dr_Swap
3: Dr_Swap + CRC
4: Dr_Swap
Start CRCReceiveTimer
Check MessageID against local copy
Store copy of MessageID
5: Dr_Swap received
6: GoodCRC
7: GoodCRC + CRC
8: GoodCRC
Check and increment MessageIDCounter
Stop CRCReceiveTimer
9:Dr_Swap sent
Start SenderResponseTimer
CC = Rd (Sink)
Port Data Role = UFP (Device)
10: Send Accept
11: Accept
12: Accept + CRC
13: Accept
Check MessageID against local copy
Store copy of MessageID
14: Accept received
15: GoodCRC
16: GoodCRC + CRC
17: GoodCRC
18: Accept sent
Start CRCReceiveTimer
Check and increment MessageIDCounter
Stop CRCReceiveTimer
Evaluate Dr_Swap request
CC = Rp (Source)
Port Data Role = DFP (Host)
: Policy Engine
: Policy Engine
Initial UFP Sink Port
Initial DFP Source Port
Stop SenderResponseTimer
New Host/Device Roles
CC = Rd (Sink)
Port Data Role = UFP (Device)
CC = Rp (Source)
Port Data Role = DFP (Host)
CC = Rp (Source)
Port Data Role -> UFP (Device)
CC = Rd (Sink)
Port Data Role -> DFP (Host)
