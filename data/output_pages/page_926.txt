Page 926
Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10
8.3.3.21.3
  Initiator Structured VDM Discover Modes State Diagram
Figure 8.193, "Initiator VDM Discover Modes State Diagram" shows the state diagram for an Initiator when 
discovering Modes of its Port Partner or Cable Plug.
Figure 8.193 Initiator VDM Discover Modes State Diagram
8.3.3.21.3.1
  PE_INIT_VDM_Modes_Request State
The Policy Engine transitions to the PE_INIT_VDM_Modes_Request state from either the PE_SRC_Ready or 
PE_SNK_Ready state when:

The Device Policy Manager requests the discovery of the Modes of the Port Partner or a Cable Plug.
On entry to the PE_INIT_VDM_Modes_Request state the Policy Engine Shall send a Structured VDM Discover Modes 
Command request and Shall start the VDMResponseTimer.
The Policy Engine Shall transition to the PE_INIT_VDM_Modes_ACKed state when:

A Structured VDM Discover Modes ACK Command response is received.
The Policy Engine Shall transition to the PE_INIT_VDM_Modes_NAKed state when:

A Structured VDM Discover Modes NAK or BUSY Command response is received or

The VDMResponseTimer times out.
PE_SRC_Ready or PE_SNK_Ready
PE_INIT_VDM_Modes_Request
Actions on entry:
Send Discover Modes request
Start VDMResponseTimer
Power = Explicit Contract
PD = Connected
DPM requests 
Modes discovery
Discover Modes ACK
received
PE_INIT_VDM_Modes_ACKed
Actions on entry:
Inform DPM of Modes
Power = Explicit Contract
PD = Connected
PE_INIT_VDM_Modes_NAKed
Actions on entry:
Inform DPM of result
Power = Explicit Contract
PD = Connected
Discover Modes NAK/BUSY |
VDMResponseTimer Timeout
DPM informed
DPM informed
