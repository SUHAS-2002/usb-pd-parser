Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10
Page 779
Table 8.139, "Steps for DFP to UFP Exit Mode" below provides a detailed explanation of what happens at each 
labeled step in Figure 8.112, "DFP to UFP Exit Mode" above.
Table 8.139  Steps for DFP to UFP Exit Mode
Step
DFP
UFP
1
The DFP is in a Mode and then enters USB Safe State. 
The Policy Engine directs the Protocol Layer to send an 
Exit Mode Command request.
The UFP is in a Mode.
2
Protocol Layer creates the Exit Mode Command request 
and passes to PHY Layer.
3
PHY Layer appends CRC and sends the Exit Mode 
Command request. Starts CRCReceiveTimer.
PHY Layer receives the Exit Mode Command request 
and checks the CRC to verify the Message.
4
PHY Layer removes the CRC and forwards the Exit 
Mode Command request to the Protocol Layer.
5
Protocol Layer checks the MessageID in the incoming 
Message is different from the previously stored value 
and then stores a copy of the new value.
The Protocol Layer forwards the received Exit Mode 
Command request information to the Policy Engine that 
consumes it.
6
Protocol Layer generates a GoodCRC Message and 
passes it PHY Layer.
7
PHY Layer receives the GoodCRC Message and checks 
the CRC to verify the Message.
PHY Layer appends CRC and sends the GoodCRC 
Message.
8
PHY Layer removes the CRC and forwards the GoodCRC 
Message to the Protocol Layer. 
9
Protocol Layer verifies and increments the 
MessageIDCounter and stops CRCReceiveTimer. 
Protocol Layer informs the Policy Engine that the Exit 
Mode Command request was successfully sent.
Policy Engine starts the VDMModeExitTimer.
10
Policy Engine requests the DPM to enter USB 
operation. The Policy Engine tells the Protocol Layer to 
form an Exit Mode Command ACK response.
11
Protocol Layer creates the Exit Mode Command ACK 
response and passes to PHY Layer.
12
PHY Layer receives the Exit Mode Command ACK 
response and compares the CRC it calculated with the 
one sent to verify the Message.
PHY Layer appends a CRC and sends the Exit Mode 
Command ACK response. Starts CRCReceiveTimer.
13
Protocol Layer checks the MessageID in the incoming 
Message is different from the previously stored value 
and then stores a copy of the new value.
The Protocol Layer forwards the received Exit Mode 
Command ACK response information to the Policy 
Engine that consumes it.
14
The Policy Engine stops the VDMModeExitTimer and 
requests the DPM to enter USB Operation.
15
Protocol Layer generates a GoodCRC Message and 
passes it PHY Layer.
16
PHY Layer appends a CRC and sends the GoodCRC 
Message.
PHY Layer receives GoodCRC Message and compares 
the CRC it calculated with the one sent to verify the 
Message.
