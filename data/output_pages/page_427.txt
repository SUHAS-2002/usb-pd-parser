Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10
Page 427
8.3.2.1.2
  Errors in Basic Message flow
There are various points during the Message flow where failures in communication or other issues can occur. 
Figure 8.3, "Basic Message flow indicating possible errors" is an annotated version of Figure 8.2, "Basic Message 
Exchange (Successful)" indicating at which point issues can occur. Table 8.2, "Potential issues in Basic Message Flow" 
details the steps in the flow.
Figure 8.3 Basic Message flow indicating possible errors
Table 8.2  Potential issues in Basic Message Flow
Point
Possible issues
A
1)
There is an incoming Message on the channel meaning that the PHY Layer is unable to send. In this case 
the outgoing Message is removed from the queue and the incoming Message processed.
2)
Due to some sort of noise on the line it is not possible to transmit. In this case the outgoing Message is 
Discarded by the PHY Layer. Retransmission is via the Protocol Layer’s normal mechanism.
B
1)
Message does not arrive at the PHY Layer due to noise on the channel.
2)
Message arrives but has been corrupted and has a bad CRC.
There is no Message to pass up to the Protocol Layer on the receiver which means a GoodCRC Message is not 
sent. This leads to a CRCReceiveTimer timeout in the Message Sender.
C
1)
MessageID of received Message matches stored MessageID so this is a retry. Message is not passed 
up to the Policy Engine.
D
1)
Policy Engine receives a known Message that it was not expecting.
2)
Policy Engine receives an Unrecognized Message.
These cases are errors in the protocol which could lead to the generation of a Soft_Reset Message.
E
Same as point A but at the Message Receiver side.
: Policy Engine
: Protocol
1: Send message
: PHY
: PHY
: Protocol
: Policy Engine
2: Message
3: Message + CRC
4: Message
Start CRCReceiveTimer
Check MessageID against 
local copy
Store copy of MessageID
5: Message received
Consume message
6: GoodCRC
7: GoodCRC + CRC
8: GoodCRC
Check and increment MessageIDCounter
Stop CRCReceiveTimer
9: Message sent
Message Sender
Message Receiver
• Message currently being received
• Channel unavailable
• Message does not arrive
• Message has bad CRC
• Message is a retry
• Message is unexpected
• Message is unknown
• Message currently being received
• Channel unavailable
• GoodCRC does not arrive
• GoodCRC has a bad CRC
• GoodCRC has the wrong MessageID
• Response is not GoodCRC
A
B
C
D
E
F
G
