Page 592
Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10
Table 8.76, "Steps for Data Role Swap, DFP operating as Sink initiates" below provides a detailed explanation of what 
happens at each labeled step in Figure 8.49, "Data Role Swap, DFP operating as Sink initiates" above.
Table 8.76  Steps for Data Role Swap, DFP operating as Sink initiates
Step
Initial UFP Source Port
Initial DFP Sink Port
1
Port starts as a UFP (Device) operating as Source with 
Rp asserted and Port Data Role set to UFP.
Port starts as a DFP (Host) operating as a Sink with Rd 
asserted and Port Data Role set to DFP. The Policy 
Engine directs the Protocol Layer to send a DR_Swap 
Message.
2
Protocol Layer creates the DR_Swap Message and 
passes to PHY Layer.
3
PHY Layer receives the DR_Swap Message and checks 
the CRC to verify the Message.
PHY Layer appends CRC and sends the DR_Swap 
Message. Starts CRCReceiveTimer.
4
PHY Layer removes the CRC and forwards the 
DR_Swap Message to the Protocol Layer.
5
Protocol Layer checks the MessageID in the incoming 
Message is different from the previously stored value 
and then stores a copy of the new value.
The Protocol Layer forwards the received DR_Swap 
Message information to the Policy Engine that 
consumes it.
6
Protocol Layer generates a GoodCRC Message and 
passes it PHY Layer.
7
PHY Layer appends CRC and sends the GoodCRC 
Message.
PHY Layer receives the GoodCRC Message and checks 
the CRC to verify the Message.
8
PHY Layer removes the CRC and forwards the 
GoodCRC Message to the Protocol Layer.
9
Protocol Layer verifies and increments the 
MessageIDCounter and stops CRCReceiveTimer. 
Protocol Layer informs the Policy Engine that the 
DR_Swap Message was successfully sent. Policy 
Engine starts SenderResponseTimer.
10
Policy Engine evaluates the DR_Swap Message and 
decides that it is able and willing to do the Data Role 
Swap. It tells the Protocol Layer to form an Accept 
Message.
11
Protocol Layer creates the Accept Message and passes 
to PHY Layer.
12
PHY Layer appends a CRC and sends the Accept 
Message. Starts CRCReceiveTimer.
PHY Layer receives the Accept Message and checks the 
CRC to verify the Message.
13
Protocol Layer checks the MessageID in the incoming 
Message is different from the previously stored value 
and then stores a copy of the new value.
The Protocol Layer forwards the received Accept 
Message information to the Policy Engine that 
consumes it.
14
The Policy Engine stops the SenderResponseTimer. 
15
Protocol Layer generates a GoodCRC Message and 
passes it PHY Layer.
16
PHY Layer receives GoodCRC Message and compares 
the CRC it calculated with the one sent to verify the 
Message.
PHY Layer appends a CRC and sends the GoodCRC 
Message.
